(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{136:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),n=s(25),a=s.n(n),i=(s(72),s(73),s(3)),o=s(27),j=s.n(o),l=s(4),b=s(16),d=function(e){return{type:"UPDATE_NAME",data:e}},u=function(e){return{type:"SHOW_FORM",data:e}},O=s(5),m=s(0),h=function(){var e=Object(O.c)((function(e){return e.isLoggedIn})),t=Object(c.useState)(""),s=Object(i.a)(t,2),r=s[0],n=s[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),u=o[0],h=o[1],x=Object(c.useState)(""),p=Object(i.a)(x,2),g=p[0],f=p[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),N=y[0],S=y[1],w=Object(O.b)();return Object(m.jsxs)("div",{children:[e?Object(m.jsx)(l.a,{to:{pathname:"/chat",state:r}}):null,Object(m.jsxs)("div",{id:"form",className:"container",style:{paddingTop:"10%"},children:[Object(m.jsxs)("h2",{style:{textAlign:"center"},children:["LOG",Object(m.jsx)("span",{style:{color:"#5458f7"},children:"IN"})]}),Object(m.jsxs)("div",{className:"form-div",children:[Object(m.jsx)("span",{style:{color:"green"},children:g}),Object(m.jsx)("span",{style:{color:"red"},children:N}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f("*Loggin In*"),S("");var t={username:r,password:u};j.a.post("/login",t).then((function(e){if(!1===e.data.success&&(f(""),S(e.data.message)),!0===e.data.success){var t={username:e.data.username,blockedUsers:[e.data.blockedUsers],messages:[]};w({type:"LOGGED_IN"}),w(d(t))}})).catch((function(e){console.log(e),f(""),S("Server Error")})),setTimeout((function(){f(""),S("")}),7e3)},children:["Username:",Object(m.jsx)("input",{required:!0,type:"text",placeholder:"Username",onChange:function(e){n(e.target.value)},value:r,className:"form-control form-group"}),Object(m.jsx)("br",{}),"Password:",Object(m.jsx)("input",{required:!0,type:"password",placeholder:"Password",onChange:function(e){h(e.target.value)},value:u,className:"form-control form-group"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{id:"submit",type:"submit",className:"btn btn-block form-control form-group",value:"submit"})]}),Object(m.jsx)("br",{}),Object(m.jsx)(b.b,{to:"/signup",style:{color:"#5458f7"},children:"*Sign Up*"})]})]})]})},x=(s(48),s(49),function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],r=t[1],n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],j=a[1];return Object(c.useEffect)((function(){fetch("/getreports",{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),e.success?r(e.reports):j(e.message)})).catch((function(e){console.error("Error:",e)}))}),[]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{id:"headder",children:"Raven Livestream User Report Log"}),Object(m.jsx)(b.b,{to:"/chat",children:Object(m.jsx)("button",{className:"btn btn-danger",style:{color:"white"},children:"Chat"})})]}),Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-12",id:"texting-area",children:[Object(m.jsx)("span",{style:{color:"red"},children:o}),Object(m.jsx)("div",{id:"message-display",children:s.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{id:"message-area",style:{borderLeft:"5px solid blue"},children:[Object(m.jsxs)("div",{id:"user-time",children:[Object(m.jsx)("span",{style:{color:"blue"},children:e.username}),Object(m.jsx)("span",{children:e.date+", "+e.time})]}),Object(m.jsx)("div",{id:"message",children:Object(m.jsx)("span",{children:e.reason})})]}),Object(m.jsx)("br",{})]},s.indexOf(e))})).reverse()})]})})})]})}),p=s(29),g=s(67),f=s.n(g),v=function(e){var t=e.message,s=e.username,r=e.time,n=e.user,a=Object(c.useState)(!1),o=Object(i.a)(a,2),j=o[0],l=o[1],b=Object(O.c)((function(e){return e.showForm})),d=Object(O.b)();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{id:"message-area",style:{borderLeft:s!==n?"5px solid blue":"5px solid green"},onClick:function(){return l(!j)},children:[Object(m.jsxs)("div",{id:"user-time",children:[Object(m.jsx)("span",{style:{color:s!==n?"blue":"green"},children:s===n?Object(m.jsx)("span",{children:"Me"}):s}),Object(m.jsx)("span",{children:r})]}),Object(m.jsxs)("div",{id:"message",children:[Object(m.jsx)("span",{children:t}),Object(m.jsxs)("span",{style:{display:j&&s!==n?"block":"none"},children:[Object(m.jsx)("button",{className:"btn btn-danger",children:"Block"})," ",Object(m.jsx)("button",{className:"btn btn-danger",onClick:function(){return d(u({value:!b.value,reportUsername:s}))},children:"Report"})]})]})]}),Object(m.jsx)("br",{})]})},y=s.p+"static/media/user.28ec5b21.png",N=s.p+"static/media/power.dca07d43.svg",S=f.a.connect("https://raven-chat.herokuapp.com/"),w=function(e){var t=Object(O.c)((function(e){return e.userReducer})),s=Object(O.c)((function(e){return e.showForm})),r=Object(O.c)((function(e){return e.isLoggedIn})),n=Object(O.b)(),a=Object(c.useState)(""),o=Object(i.a)(a,2),j=o[0],h=o[1],x=Object(c.useState)(""),g=Object(i.a)(x,2),f=g[0],w=g[1],U=Object(c.useState)(""),k=Object(i.a)(U,2),E=k[0],L=k[1],C=Object(c.useState)(""),_=Object(i.a)(C,2),D=_[0],T=_[1],I=Object(c.useState)(""),R=Object(i.a)(I,2),P=(R[0],R[1]),G=Object(c.useState)([]),M=Object(i.a)(G,2),F=M[0],q=M[1];return S.on("message",(function(e){q([].concat(Object(p.a)(F),[{username:e.username,time:e.time,message:e.text}]))})),Object(m.jsxs)("div",{children:[!1===r?Object(m.jsx)(l.a,{to:"/"}):null,Object(m.jsxs)("div",{id:"report-section",style:{position:"absolute",alignItems:"center",display:s.value?"block":"none",backdropFilter:"blur(10px)"},children:[Object(m.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(m.jsx)("button",{onClick:function(){return n(u({value:!s.value,reportUsername:""}))},style:{background:"transparent",color:"white",padding:"2%",paddingRight:"4%",paddingLeft:"4%"},children:"x"})}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{style:{color:"green"},children:f}),Object(m.jsx)("span",{style:{color:"red"},children:E}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w("Sending..."),L("");var t={username:s.reportUsername,reason:D};fetch("/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.success?(w(e.message),L("")):(L(e.message),w(""))})).catch((function(e){console.error("Error:",e)})),setTimeout((function(){w(""),L(""),T("")}),7e3)},id:"report-form",children:["Report User:",Object(m.jsx)("input",{required:!0,type:"text",onChange:function(e){P(e.target.value)},value:s.reportUsername,className:"form-control form-group",id:"report",readOnly:!0}),Object(m.jsx)("br",{}),"Reason:",Object(m.jsx)("textarea",{required:!0,type:"text",placeholder:"Reason for Reporting User",onChange:function(e){T(e.target.value)},value:D,className:"form-control form-group",id:"report",height:"30%"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{id:"submit",type:"submit",className:"btn btn-block form-control form-group",value:"Submit"})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("h4",{id:"headder",children:"Raven Livestream Chat"})}),Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-sm-4",id:"rooms",children:[Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(m.jsx)(b.b,{to:"/reports",children:Object(m.jsx)("button",{className:"btn btn-danger",style:{color:"white"},children:"Blacklist"})}),Object(m.jsx)("button",{onClick:function(){n({type:"LOGGED_OUT"}),n(d({username:" ",blockedUsers:[]}))},className:"btn btn-danger",style:{color:"white"},children:Object(m.jsx)("img",{src:N,style:{height:"1rem",width:"1rem"},alt:""})})]}),Object(m.jsx)("h2",{style:{marginTop:"10%"},children:Object(m.jsx)("strong",{children:"Online Users"})}),Object(m.jsx)("hr",{style:{border:"1px solid black"}}),Object(m.jsx)("ul",{className:"users",children:Object(m.jsxs)("div",{id:"users",children:[Object(m.jsx)("h4",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{id:"userss",src:y,alt:""}),"Musa"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{id:"userss",src:y,alt:""}),"Mike"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{id:"userss",src:y,alt:""}),"Peter"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{id:"userss",src:y,alt:""}),"Sophia"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{id:"userss",src:y,alt:""}),"Mufasa"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{id:"userss",src:y,alt:""}),"Scar"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{id:"userss",src:y,alt:""}),"Nala"]})}),Object(m.jsx)("br",{})]})}),Object(m.jsx)("br",{})]}),Object(m.jsxs)("div",{className:"col-sm-8",id:"texting-area",children:[Object(m.jsx)("div",{id:"message-display",children:F.map((function(e){return Object(m.jsx)(v,{user:t.username,message:e.message,username:e.username,time:e.time},t.messages.indexOf(e)*Math.random())})).reverse()}),Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:function(s){s.preventDefault(),S.on("message",(function(s){var c={username:e.location.state,blockedUsers:[],messages:[].concat(Object(p.a)(t.messages),[{username:s.username,time:s.time,message:s.text}])};n(d(c)),h(""),q([].concat(Object(p.a)(F),[{username:s.username,time:s.time,message:s.text}]))})),S.emit("chatMessage",{username:t.username,message:j}),h("")},id:"typing-area",children:[Object(m.jsx)("input",{required:!0,type:"text",placeholder:"type message",onChange:function(e){h(e.target.value)},value:j,className:"form-control form-group",id:"type"}),Object(m.jsx)("input",{id:"send",type:"submit",className:"btn btn-block form-control form-group",value:"send"})]})})]})]})})]})},U=function(){var e=Object(O.c)((function(e){return e.isLoggedIn})),t=Object(c.useState)(""),s=Object(i.a)(t,2),r=s[0],n=s[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),u=o[0],h=o[1],x=Object(c.useState)(""),p=Object(i.a)(x,2),g=p[0],f=p[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),N=y[0],S=y[1],w=Object(c.useState)(""),U=Object(i.a)(w,2),k=U[0],E=U[1],L=Object(O.b)();return Object(m.jsxs)("div",{children:[e?Object(m.jsx)(l.a,{to:{pathname:"/chat",state:r}}):null,Object(m.jsxs)("div",{id:"form",className:"container",style:{paddingTop:"10%"},children:[Object(m.jsxs)("h2",{style:{textAlign:"center"},children:["SIGN",Object(m.jsx)("span",{style:{color:"#5458f7"},children:"UP"})]}),Object(m.jsxs)("div",{className:"form-div",children:[Object(m.jsx)("span",{style:{color:"green"},children:N}),Object(m.jsx)("span",{style:{color:"red"},children:k}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={username:r,password:u};u!==g?E("Passwords Do Not Match"):(S("*Signing Up*"),E(""),j.a.post("/signup",t).then((function(e){if(console.log(e.data),!1===e.data.success&&(S(""),E(e.data.message)),!0===e.data.success){console.log(e.data.username);var t={username:e.data.username,blockedUsers:e.data.blockedUsers,messages:[]};L({type:"LOGGED_IN"}),L(d(t))}})).catch((function(e){console.log(e),S(""),E("Server Error")}))),setTimeout((function(){S(""),E("")}),7e3)},children:["Username:",Object(m.jsx)("input",{required:!0,type:"text",placeholder:"Username",onChange:function(e){n(e.target.value)},value:r,className:"form-control form-group"}),Object(m.jsx)("br",{}),"Password:",Object(m.jsx)("input",{required:!0,type:"password",placeholder:"Password",onChange:function(e){h(e.target.value)},value:u,className:"form-control form-group"}),Object(m.jsx)("br",{}),"Confirm Password:",Object(m.jsx)("input",{required:!0,type:"password",placeholder:"Confirm Password",onChange:function(e){f(e.target.value)},value:g,className:"form-control form-group"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{id:"submit",type:"submit",className:"btn btn-block form-control form-group",value:"submit"})]}),Object(m.jsx)("br",{}),Object(m.jsx)(b.b,{to:"/",style:{color:"#5458f7"},children:"*LogIn*"})]})]})]})};s(128),s(129);var k=function(){return Object(m.jsxs)(b.a,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/",render:function(e){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(h,{})})}}),Object(m.jsx)(l.b,{exact:!0,path:"/signup",component:U}),Object(m.jsx)(l.b,{exact:!0,path:"/chat",component:w}),Object(m.jsx)(l.b,{exact:!0,path:"/reports",component:x})]})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,139)).then((function(t){var s=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,a=t.getTTFB;s(e),c(e),r(e),n(e),a(e)}))},L=s(28),C={username:"",blockedUsers:[],messages:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NAME":return t.data;default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return!0;case"LOGGED_OUT":return!1;default:return e}},T={value:!1,reportUsername:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_FORM":return t.data;default:return e}},R=Object(L.a)({userReducer:_,isLoggedIn:D,showForm:I}),P=Object(L.b)(R,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(O.a,{store:P,children:Object(m.jsx)(k,{})})}),document.getElementById("root")),E()},48:function(e,t,s){},49:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){}},[[136,1,2]]]);
//# sourceMappingURL=main.fe0036b8.chunk.js.map